<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GAMESBEAT — Subscribe</title>

    <!-- load stylesheets (match index.html format) -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css?v=3.6" />
    <!-- LP-specific styles (IMPORTANT: keep this last) -->
    <link rel="stylesheet" href="css/lp.css?v=1.3" />

    <link rel="icon" href="favicon.ico?v3" />

    <!-- OG -->
    <meta property="og:image" content="images/gamebeats1.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bangers&family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="lp-only">
    <div class="top-page lp-page">
      <!-- Header copied to match portal -->
      <header class="sticky-top header-white lp-header">
        <div class="container">
          <nav
            id="navbar"
            class="navbar navbar-expand-xl navbar-dark pt-xl-3 pb-xl-3 pt-2 pb-2 mt-xl-3 mb-xl-3"
          >
            <a href="/" class="logo">
              <img
                src="images/Logo Header.png"
                width="120"
                class="img-fluid"
                alt="Gamesbeat"
              />
            </a>

            <a
              href="login.html"
              class="mobile-myaccount btn btn-rounded btn-outline-light ml-auto mr-lg-0 ml-auto d-inline-block d-xl-none"
              aria-label="My account"
            >
              <span class="icon-account mr-xl-2" aria-hidden="true"></span>
            </a>

            <button
              class="navbar-toggler ml-3"
              type="button"
              data-toggle="collapse"
              data-target="#principal"
              aria-controls="principal"
              aria-expanded="false"
              aria-label="Toggle navigation"
              id="menu-principal"
            >
              <span class="navbar-toggler-icon"></span>
              <span class="navbar-toggler-icon"></span>
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="navbar-collapse collapse ml-lg-auto" id="principal">
              <ul
                class="navbar-nav ml-auto mt-lg-0 mt-3 mb-3 mb-lg-0 flex-lg-row justify-content-lg-center"
              >
                <li class="nav-item">
                  <a class="nav-link" href="adventures.html">
                    <img
                      src="images/category-icons/Adventures Icon.svg"
                      height="25"
                      class="mb-0 icon"
                      alt=""
                    />
                    Adventures
                  </a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="arcade.html">
                    <img
                      src="images/category-icons/Arcade Icon.svg"
                      height="25"
                      class="mb-0 icon"
                      alt=""
                    />
                    Arcade
                  </a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="strategy.html">
                    <img
                      src="images/category-icons/Strategy Icon.svg"
                      height="25"
                      class="mb-0 icon"
                      alt=""
                    />
                    Strategy
                  </a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="braintraining.html">
                    <img
                      src="images/category-icons/Brainstraining Icon.svg"
                      height="25"
                      class="mb-0 icon"
                      alt=""
                    />
                    Braintraining
                  </a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="sports.html">
                    <img
                      src="images/category-icons/Sports Icon.svg"
                      height="25"
                      class="mb-0 icon"
                      alt=""
                    />
                    Sports
                  </a>
                </li>
              </ul>
            </div>

            <a
              href="login.html"
              class="desktop-myaccount btn btn-rounded ml-lg-3 mr-lg-0 ml-auto d-none d-xl-inline-block"
            >
              <span class="icon-account mr-xl-2" aria-hidden="true"></span>
              <span class="mr-xl-2">My account</span>
            </a>
          </nav>
        </div>
      </header>

      <!-- LP Hero -->
      <main class="lp-hero">
        <div class="container">
          <div class="row align-items-center lp-hero-row">
            <div class="col-lg-6 order-2 order-lg-1">
              <div class="lp-card">
                <h1 class="lp-title">Subscribe &amp; Play</h1>

                <p class="lp-sub">Enter your mobile number to start playing.</p>

                <div class="lp-form">
                  <div class="lp-input-wrap">
                    <input
                      id="msisdn"
                      type="tel"
                      inputmode="tel"
                      class="lp-input"
                      placeholder="e.g. +8801XXXXXXXXX"
                      autocomplete="tel"
                    />
                  </div>

                  <button id="cta" class="lp-btn" type="button">Get OTP</button>

                  <div id="status" class="lp-status" aria-live="polite"></div>

                  <p class="lp-terms">
                    By continuing you agree to the subscription terms.
                    <a href="tyc.html">Terms &amp; Conditions</a>
                  </p>
                </div>
              </div>
            </div>

            <div class="col-lg-6 order-1 order-lg-2">
              <!-- Featured image panel -->
              <section class="lp-feature" aria-label="GamesBeat featured games">
                <div class="lp-feature__frame">
                  <img
                    class="lp-feature__img is-active"
                    src="images/gamebeats1.png"
                    alt="GamesBeat featured games 1"
                    loading="eager"
                  />
                  <img
                    class="lp-feature__img"
                    src="images/gamebeats2.png"
                    alt="GamesBeat featured games 2"
                    loading="lazy"
                  />
                  <img
                    class="lp-feature__img"
                    src="images/gamebeats3.png"
                    alt="GamesBeat featured games 3"
                    loading="lazy"
                  />
                </div>

                <div class="lp-feature__dots" role="tablist" aria-label="Featured images">
                  <button class="lp-dot is-active" type="button" aria-label="Show image 1"></button>
                  <button class="lp-dot" type="button" aria-label="Show image 2"></button>
                  <button class="lp-dot" type="button" aria-label="Show image 3"></button>
                </div>

                <p class="lp-feature__copy">
                  Hundreds of games across Arcade, Strategy, Adventures &amp; more.
                </p>
              </section>
            </div>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="container-fluid text-white content pt-3 pb-0 lp-footer">
        <div class="container">
          <div class="row align-items-start">
            <div class="col-md-6 order-md-2 text-md-right">
              <img src="images/Footer Logo.png" alt="Gamesbeat" />
            </div>

            <div class="col-md-3 order-md-1">
              <ul>
                <li><a href="adventures.html">ADVENTURES</a></li>
                <li><a href="arcade.html">ARCADE</a></li>
                <li><a href="strategy.html">STRATEGY</a></li>
                <li><a href="braintraining.html">BRAINTRAINING</a></li>
                <li><a href="sports.html">SPORTS</a></li>
              </ul>
            </div>

            <div class="col-md-3 order-md-1"></div>
          </div>

          <!-- Bottom bar (kept inside footer to avoid layout breaking) -->
          <div class="row align-items-center py-3">
            <div class="col-md-8 text-center text-md-left">
              <p class="mb-0">© Copyright 2025 - All Rights Reserved</p>
            </div>
            <div class="col-md-4 text-center text-md-right">
              <a href="tyc.html" style="color: #666">Terms &amp; Conditions</a>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- JS (match index.html format) -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.js"></script>

    <script>
      // Placeholder: Header enrichment (Melvin/Eli will provide the real integration)
      async function tryHeaderEnrichment() {
        return null; // return "+8801..." when available
      }

      // Placeholder: backend endpoint to trigger OTP (Melvin will provide)
      async function triggerOtp(msisdn) {
        return { ok: true, redirectUrl: "https://bd.gamesbeat.top/login.html" };
      }

      const msisdnInput = document.getElementById("msisdn");
      const statusEl = document.getElementById("status");
      const cta = document.getElementById("cta");

      (async () => {
        const auto = await tryHeaderEnrichment();
        if (auto) {
          msisdnInput.value = auto;
          statusEl.textContent = "Detected number automatically.";
          statusEl.classList.add("is-ok");
        }
      })();

      cta.addEventListener("click", async () => {
        const msisdn = (msisdnInput.value || "").trim();

        if (!msisdn) {
          statusEl.textContent = "Please enter your phone number.";
          statusEl.classList.remove("is-ok");
          statusEl.classList.add("is-err");
          return;
        }

        statusEl.textContent = "Sending OTP…";
        statusEl.classList.remove("is-ok", "is-err");

        try {
          const res = await triggerOtp(msisdn);
          if (!res.ok) throw new Error("OTP trigger failed");

          statusEl.textContent = "OTP sent. Redirecting…";
          statusEl.classList.remove("is-err");
          statusEl.classList.add("is-ok");

          setTimeout(() => (window.location.href = res.redirectUrl), 650);
        } catch (e) {
          statusEl.textContent = "Could not send OTP. Please try again.";
          statusEl.classList.remove("is-ok");
          statusEl.classList.add("is-err");
        }
      });

      // Featured image rotator (gamebeats1/2/3)
      (function () {
        const imgs = Array.from(document.querySelectorAll(".lp-feature__img"));
        const dots = Array.from(document.querySelectorAll(".lp-dot"));
        if (!imgs.length || !dots.length) return;

        let idx = 0;
        const show = (n) => {
          idx = n;
          imgs.forEach((img, i) => img.classList.toggle("is-active", i === idx));
          dots.forEach((dot, i) => dot.classList.toggle("is-active", i === idx));
        };

        dots.forEach((dot, i) => dot.addEventListener("click", () => show(i)));
        setInterval(() => show((idx + 1) % imgs.length), 4500);
      })();
    </script>
  </body>
</html>
